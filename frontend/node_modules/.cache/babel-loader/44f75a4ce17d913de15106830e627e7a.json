{"ast":null,"code":"import _classCallCheck from\"/Users/sourabhamancha/Desktop/full-stack-social-media-app/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sourabhamancha/Desktop/full-stack-social-media-app/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sourabhamancha/Desktop/full-stack-social-media-app/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sourabhamancha/Desktop/full-stack-social-media-app/frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import Scream from\"../components/scream/Scream\";import StaticProfile from\"../components/profile/StaticProfile\";import Grid from\"@material-ui/core/Grid\";import ScreamSkeleton from\"../util/ScreamSkeleton\";import ProfileSkeleton from\"../util/ProfileSkeleton\";import{connect}from\"react-redux\";import{getUserData}from\"../redux/actions/dataActions\";var user=/*#__PURE__*/function(_Component){_inherits(user,_Component);var _super=_createSuper(user);function user(){var _this;_classCallCheck(this,user);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={profile:null,screamIdParam:null};return _this;}_createClass(user,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var handle=this.props.match.params.handle;var screamId=this.props.match.params.screamId;console.log(handle,screamId);if(screamId)this.setState({screamIdParam:screamId});this.props.getUserData(handle);axios.get(\"/user/\".concat(handle)).then(function(res){_this2.setState({profile:res.data.user});}).catch(function(err){return console.log(err);});}},{key:\"render\",value:function render(){var _this$props$data=this.props.data,screams=_this$props$data.screams,loading=_this$props$data.loading;var screamIdParam=this.state.screamIdParam;var screamsMarkup=loading?/*#__PURE__*/React.createElement(ScreamSkeleton,null):screams===null?/*#__PURE__*/React.createElement(\"p\",null,\"No screams from this user\"):!screamIdParam?screams.map(function(scream){return/*#__PURE__*/React.createElement(Scream,{key:scream.screamId,scream:scream});}):screams.map(function(scream){if(scream.screamId!==screamIdParam)return/*#__PURE__*/React.createElement(Scream,{key:scream.screamId,scream:scream});else return/*#__PURE__*/React.createElement(Scream,{key:scream.screamId,scream:scream,openDialog:true});});return/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3,style:{marginTop:\"10px\"}},/*#__PURE__*/React.createElement(Grid,{item:true,sm:3,xs:12,style:{marginLeft:\"50px\",textAlign:\"center\"}},this.state.profile===null?/*#__PURE__*/React.createElement(ProfileSkeleton,null):/*#__PURE__*/React.createElement(StaticProfile,{profile:this.state.profile})),/*#__PURE__*/React.createElement(Grid,{item:true,sm:7,xs:12,style:{textAlign:\"center\"}},screamsMarkup));}}]);return user;}(Component);var mapStateToProps=function mapStateToProps(state){return{data:state.data};};export default connect(mapStateToProps,{getUserData:getUserData})(user);","map":{"version":3,"sources":["/Users/sourabhamancha/Desktop/full-stack-social-media-app/frontend/src/pages/user.js"],"names":["React","Component","axios","Scream","StaticProfile","Grid","ScreamSkeleton","ProfileSkeleton","connect","getUserData","user","state","profile","screamIdParam","handle","props","match","params","screamId","console","log","setState","get","then","res","data","catch","err","screams","loading","screamsMarkup","map","scream","marginTop","marginLeft","textAlign","mapStateToProps"],"mappings":"okBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,qCAA1B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,wBAA3B,CACA,MAAOC,CAAAA,eAAP,KAA4B,yBAA5B,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,WAAT,KAA4B,8BAA5B,C,GAEMC,CAAAA,I,mTACJC,K,CAAQ,CACNC,OAAO,CAAE,IADH,CAENC,aAAa,CAAE,IAFT,C,6FAIY,iBAClB,GAAMC,CAAAA,MAAM,CAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBH,MAAvC,CACA,GAAMI,CAAAA,QAAQ,CAAG,KAAKH,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,QAAzC,CACAC,OAAO,CAACC,GAAR,CAAYN,MAAZ,CAAoBI,QAApB,EACA,GAAIA,QAAJ,CAAc,KAAKG,QAAL,CAAc,CAAER,aAAa,CAAEK,QAAjB,CAAd,EAEd,KAAKH,KAAL,CAAWN,WAAX,CAAuBK,MAAvB,EACAZ,KAAK,CACFoB,GADH,iBACgBR,MADhB,GAEGS,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,MAAI,CAACH,QAAL,CAAc,CACZT,OAAO,CAAEY,GAAG,CAACC,IAAJ,CAASf,IADN,CAAd,EAGD,CANH,EAOGgB,KAPH,CAOS,SAACC,GAAD,QAASR,CAAAA,OAAO,CAACC,GAAR,CAAYO,GAAZ,CAAT,EAPT,EAQD,C,uCACQ,sBACsB,KAAKZ,KAAL,CAAWU,IADjC,CACCG,OADD,kBACCA,OADD,CACUC,OADV,kBACUA,OADV,IAEChB,CAAAA,aAFD,CAEmB,KAAKF,KAFxB,CAECE,aAFD,CAIP,GAAMiB,CAAAA,aAAa,CAAGD,OAAO,cAC3B,oBAAC,cAAD,MAD2B,CAEzBD,OAAO,GAAK,IAAZ,cACF,yDADE,CAEA,CAACf,aAAD,CACFe,OAAO,CAACG,GAAR,CAAY,SAACC,MAAD,qBAAY,oBAAC,MAAD,EAAQ,GAAG,CAAEA,MAAM,CAACd,QAApB,CAA8B,MAAM,CAAEc,MAAtC,EAAZ,EAAZ,CADE,CAGFJ,OAAO,CAACG,GAAR,CAAY,SAACC,MAAD,CAAY,CACtB,GAAIA,MAAM,CAACd,QAAP,GAAoBL,aAAxB,CACE,mBAAO,oBAAC,MAAD,EAAQ,GAAG,CAAEmB,MAAM,CAACd,QAApB,CAA8B,MAAM,CAAEc,MAAtC,EAAP,CADF,IAEK,oBAAO,oBAAC,MAAD,EAAQ,GAAG,CAAEA,MAAM,CAACd,QAApB,CAA8B,MAAM,CAAEc,MAAtC,CAA8C,UAAU,KAAxD,EAAP,CACN,CAJD,CAPF,CAcA,mBACE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,CAA4B,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAb,CAAnC,eACE,oBAAC,IAAD,EACE,IAAI,KADN,CAEE,EAAE,CAAE,CAFN,CAGE,EAAE,CAAE,EAHN,CAIE,KAAK,CAAE,CAAEC,UAAU,CAAE,MAAd,CAAsBC,SAAS,CAAE,QAAjC,CAJT,EAMG,KAAKxB,KAAL,CAAWC,OAAX,GAAuB,IAAvB,cACC,oBAAC,eAAD,MADD,cAGC,oBAAC,aAAD,EAAe,OAAO,CAAE,KAAKD,KAAL,CAAWC,OAAnC,EATJ,CADF,cAaE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,EAAtB,CAA0B,KAAK,CAAE,CAAEuB,SAAS,CAAE,QAAb,CAAjC,EACGL,aADH,CAbF,CADF,CAmBD,C,kBA1DgB7B,S,EAkEnB,GAAMmC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACzB,KAAD,QAAY,CAClCc,IAAI,CAAEd,KAAK,CAACc,IADsB,CAAZ,EAAxB,CAIA,cAAejB,CAAAA,OAAO,CAAC4B,eAAD,CAAkB,CAAE3B,WAAW,CAAXA,WAAF,CAAlB,CAAP,CAA0CC,IAA1C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport axios from \"axios\";\nimport Scream from \"../components/scream/Scream\";\nimport StaticProfile from \"../components/profile/StaticProfile\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport ScreamSkeleton from \"../util/ScreamSkeleton\";\nimport ProfileSkeleton from \"../util/ProfileSkeleton\";\n\nimport { connect } from \"react-redux\";\nimport { getUserData } from \"../redux/actions/dataActions\";\n\nclass user extends Component {\n  state = {\n    profile: null,\n    screamIdParam: null,\n  };\n  componentDidMount() {\n    const handle = this.props.match.params.handle;\n    const screamId = this.props.match.params.screamId;\n    console.log(handle, screamId);\n    if (screamId) this.setState({ screamIdParam: screamId });\n\n    this.props.getUserData(handle);\n    axios\n      .get(`/user/${handle}`)\n      .then((res) => {\n        this.setState({\n          profile: res.data.user,\n        });\n      })\n      .catch((err) => console.log(err));\n  }\n  render() {\n    const { screams, loading } = this.props.data;\n    const { screamIdParam } = this.state;\n\n    const screamsMarkup = loading ? (\n      <ScreamSkeleton />\n    ) : screams === null ? (\n      <p>No screams from this user</p>\n    ) : !screamIdParam ? (\n      screams.map((scream) => <Scream key={scream.screamId} scream={scream} />)\n    ) : (\n      screams.map((scream) => {\n        if (scream.screamId !== screamIdParam)\n          return <Scream key={scream.screamId} scream={scream} />;\n        else return <Scream key={scream.screamId} scream={scream} openDialog />;\n      })\n    );\n\n    return (\n      <Grid container spacing={3} style={{ marginTop: \"10px\" }}>\n        <Grid\n          item\n          sm={3}\n          xs={12}\n          style={{ marginLeft: \"50px\", textAlign: \"center\" }}\n        >\n          {this.state.profile === null ? (\n            <ProfileSkeleton />\n          ) : (\n            <StaticProfile profile={this.state.profile} />\n          )}\n        </Grid>\n        <Grid item sm={7} xs={12} style={{ textAlign: \"center\" }}>\n          {screamsMarkup}\n        </Grid>\n      </Grid>\n    );\n  }\n}\n\nuser.propTypes = {\n  getUserData: PropTypes.func.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  data: state.data,\n});\n\nexport default connect(mapStateToProps, { getUserData })(user);\n"]},"metadata":{},"sourceType":"module"}